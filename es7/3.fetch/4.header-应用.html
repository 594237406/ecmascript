<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<img id="img">

</img>
<script>

    var myHeaders = new Headers({
        "a": "b",
        "c": "d"
    });

    document.cookie="a=b;";


    //credentials传递cookie
    fetch('a.json',{headers:myHeaders, credentials: "same-origin"}).then(function(response) {
        var contentType = response.headers.get("content-type");
        if(contentType && contentType.indexOf("application/json") !== -1) {
            return response.json().then(function(json) {
                console.log(json);
            });
        } else {
            console.log("Oops, we haven't got JSON!");
        }
    });

</script>
</body>
</html>